<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="keywords" content="Hexo Theme Redefine">
    
    <meta name="author" content="Conqueror712">
    <!-- preconnect -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    
    <!--- Seo Part-->
    
    <link rel="canonical" href="https://conqueror712.github.io/post/computer-network-2.html"/>
    <meta name="robots" content="index,follow">
    <meta name="googlebot" content="index,follow">
    <meta name="revisit-after" content="1 days">
    
        <meta name="description" content="Computer Networking A Top-Down Approach Learning Note Part 2 前言： 本文是笔者初学计算机网络的笔记和一些心得，难免会有部分疏漏和错误，还请各位读者积极指出，不吝赐教。 有一些内容是笔者认为对自己暂时没那么重要的部分，就没有放上去，具体的内容可以查看相关的书籍。 观前提醒：本文篇幅较长，若您只是想看其中的某一小节的知识，直接点击目录进行跳">
<meta property="og:type" content="article">
<meta property="og:title" content="计网 - Ep2 - 应用层「万字长文」丨学习记录">
<meta property="og:url" content="https://conqueror712.github.io/post/Computer-Network-2.html">
<meta property="og:site_name" content="落雨乄天珀夜">
<meta property="og:description" content="Computer Networking A Top-Down Approach Learning Note Part 2 前言： 本文是笔者初学计算机网络的笔记和一些心得，难免会有部分疏漏和错误，还请各位读者积极指出，不吝赐教。 有一些内容是笔者认为对自己暂时没那么重要的部分，就没有放上去，具体的内容可以查看相关的书籍。 观前提醒：本文篇幅较长，若您只是想看其中的某一小节的知识，直接点击目录进行跳">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://pic1.zhimg.com/v2-8302577e2963b8a605e72234f25d6082_1440w.jpg?source=172ae18b">
<meta property="og:image" content="https://cdnjson.com/images/2023/03/20/image.png">
<meta property="og:image" content="https://s2.loli.net/2023/01/29/6mWG8plUqKEt2O1.png">
<meta property="og:image" content="https://cdnjson.com/images/2023/03/21/image1ce75f8803f2d480.png">
<meta property="og:image" content="https://cdnjson.com/images/2023/03/21/image24fec85472fe6e50.png">
<meta property="og:image" content="https://cdnjson.com/images/2023/03/20/image3119aaf482192bea.png">
<meta property="og:image" content="https://developer.mozilla.org/en-US/docs/Web/HTTP/Overview/fetching_a_page.png">
<meta property="og:image" content="https://developer.mozilla.org/en-US/docs/Web/HTTP/Overview/http-layers.png">
<meta property="og:image" content="https://developer.mozilla.org/en-US/docs/Web/HTTP/Overview/client-server-chain.png">
<meta property="og:image" content="https://cdnjson.com/images/2023/03/20/image28c57533d28138e0.png">
<meta property="og:image" content="https://cdnjson.com/images/2023/03/20/image526f313d27cbed65.png">
<meta property="og:image" content="https://cdnjson.com/images/2023/03/20/image59b4b89bf717356d.png">
<meta property="og:image" content="https://cdnjson.com/images/2023/03/20/image0e6c0ee3d22f034b.png">
<meta property="og:image" content="https://cdnjson.com/images/2023/03/20/imagefdaa0ed04498039f.png">
<meta property="og:image" content="https://cdnjson.com/images/2023/03/20/image0650084f136d9f1c.png">
<meta property="og:image" content="https://cdnjson.com/images/2023/03/20/image1710c48906cf7aff.png">
<meta property="og:image" content="https://cdnjson.com/images/2023/03/20/image6d271a2fc58c258e.png">
<meta property="og:image" content="https://cdnjson.com/images/2023/03/20/image22be64134434b9e0.png">
<meta property="og:image" content="https://developer.mozilla.org/en-US/docs/Web/HTTP/Overview/http_request.png">
<meta property="og:image" content="https://cdnjson.com/images/2023/03/20/imageac69b0bb3a3c845a.png">
<meta property="og:image" content="https://developer.mozilla.org/en-US/docs/Web/HTTP/Overview/http_response.png">
<meta property="og:image" content="https://cdnjson.com/images/2023/03/20/image24df29d653810384.png">
<meta property="og:image" content="https://cdnjson.com/images/2023/03/20/image25e57c65ed133283.png">
<meta property="og:image" content="https://cdnjson.com/images/2023/03/20/image4af0dd2b5b6bab42.png">
<meta property="og:image" content="https://cdnjson.com/images/2023/03/21/imageafdfc0d77807b783.png">
<meta property="og:image" content="https://cdnjson.com/images/2023/03/21/image1759ddbc37f71cbc.png">
<meta property="og:image" content="https://cdnjson.com/images/2023/03/21/imagee0d2ad6dbbeb693d.png">
<meta property="og:image" content="https://cdnjson.com/images/2023/03/21/image94f864dc927fc86b.png">
<meta property="og:image" content="https://cdnjson.com/images/2023/03/21/image5fdf03bceeccec09.png">
<meta property="og:image" content="https://cdnjson.com/images/2023/03/21/image64369186f029e146.png">
<meta property="og:image" content="https://cdnjson.com/images/2023/03/21/image5a65dcef36501dd0.png">
<meta property="og:image" content="https://cdnjson.com/images/2023/03/21/imagebbaa174f5b19e4a5.png">
<meta property="og:image" content="https://cf-assets.www.cloudflare.com/slt3lc6tev37/7qcyOJwWyOt4EVJykiIRTn/30e34453409eb42fa1ec36680609ad8d/dns-traffic-over-tls-https.svg">
<meta property="og:image" content="https://www.cloudflare.com/img/learning/dns/dns-security/dns-hijacking.png">
<meta property="og:image" content="https://www.cloudflare-cn.com/img/learning/dns/glossary/expired-domains/expired-domain-timeline.svg">
<meta property="article:published_time" content="2023-03-20T02:58:59.000Z">
<meta property="article:modified_time" content="2023-04-23T03:09:54.791Z">
<meta property="article:author" content="落雨乄天珀夜">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://pic1.zhimg.com/v2-8302577e2963b8a605e72234f25d6082_1440w.jpg?source=172ae18b">
    
    
    <!--- Icon Part-->
    <link rel="icon" type="image/png" href="/images/redefine-favicon.svg" sizes="192x192">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/redefine-favicon.svg">
    <meta name="theme-color" content="#A31F34">
    <link rel="shortcut icon" href="/images/redefine-favicon.svg">
    <!--- Page Info-->
    
    <title>
        
            计网 - Ep2 - 应用层「万字长文」丨学习记录 -
        
        Conqueror712
    </title>
    
<link rel="stylesheet" href="/css/style.css">


    
        
<link rel="stylesheet" href="/css/build/styles.css">

    

    
<link rel="stylesheet" href="/fonts/fonts.css">

    
<link rel="stylesheet" href="/fonts/Satoshi/satoshi.css">

    
<link rel="stylesheet" href="/fonts/Chillax/chillax.css">

    <!--- Font Part-->
    
    
    
    

    <!--- Inject Part-->
    
    <script id="hexo-configurations">
    let Global = window.Global || {};
    Global.hexo_config = {"hostname":"conqueror712.github.io","root":"/","language":"zh-CN"};
    Global.theme_config = {"articles":{"style":{"font_size":"16px","line_height":1.5,"image_border_radius":"14px","image_alignment":"center","image_caption":false,"link_icon":true},"word_count":{"enable":true,"count":true,"min2read":true},"author_label":{"enable":true,"auto":false,"list":[]},"code_block":{"copy":true,"style":"mac","font":{"enable":false,"family":null,"url":null}},"toc":{"enable":true,"max_depth":3,"number":false,"expand":true,"init_open":true},"copyright":true,"lazyload":true,"recommendation":{"enable":false,"title":"推荐阅读","limit":3,"mobile_limit":2,"placeholder":"/images/wallhaven-wqery6-light.webp","skip_dirs":[]}},"colors":{"primary":"#A31F34","secondary":null},"global":{"fonts":{"chinese":{"enable":false,"family":null,"url":null},"english":{"enable":false,"family":null,"url":null}},"content_max_width":"1000px","sidebar_width":"210px","hover":{"shadow":true,"scale":false},"scroll_progress":{"bar":false,"percentage":true},"website_counter":{"url":"https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js","enable":true,"site_pv":true,"site_uv":true,"post_pv":true},"single_page":true,"open_graph":true,"google_analytics":{"enable":false,"id":null}},"home_banner":{"enable":true,"style":"fixed","image":{"light":"/images/wallhaven-wqery6-light.webp","dark":"/images/wallhaven-wqery6-dark.webp"},"title":"This blog will be updated in November, so stay tuned...","subtitle":{"text":[],"hitokoto":{"enable":true,"api":"https://v1.hitokoto.cn"},"typing_speed":100,"backing_speed":80,"starting_delay":500,"backing_delay":1500,"loop":true,"smart_backspace":true},"text_color":{"light":"#fff","dark":"#d1d1b6"},"text_style":{"title_size":"2.8rem","subtitle_size":"1.5rem","line_height":1.2},"custom_font":{"enable":false,"family":null,"url":null},"social_links":{"enable":true,"links":{"github":"https://github.com/Conqueror712","email":"Conqueror712@bupt.edu.cn"},"qrs":{"weixin":null}}},"plugins":{"feed":{"enable":false},"aplayer":{"enable":false,"type":"fixed","audios":[{"name":null,"artist":null,"url":null,"cover":null}]},"mermaid":{"enable":false,"version":"9.3.0"}},"version":"2.4.4","navbar":{"auto_hide":false,"color":{"left":"#f78736","right":"#367df7","transparency":35},"links":{"Home":{"path":"/","icon":"fa-regular fa-house"}},"search":{"enable":false,"preload":true}},"page_templates":{"friends_column":2,"tags_style":"blur"},"home":{"sidebar":{"enable":true,"position":"left","first_item":"menu","announcement":null,"links":null},"article_date_format":"auto","categories":{"enable":true,"limit":3},"tags":{"enable":true,"limit":3}},"footerStart":"2022/8/17 11:45:14"};
    Global.language_ago = {"second":"%s 秒前","minute":"%s 分钟前","hour":"%s 小时前","day":"%s 天前","week":"%s 周前","month":"%s 个月前","year":"%s 年前"};
    Global.data_config = {"masonry":false};
  </script>
    
    <!--- Fontawesome Part-->
    
<link rel="stylesheet" href="/fontawesome/fontawesome.min.css">

    
<link rel="stylesheet" href="/fontawesome/brands.min.css">

    
<link rel="stylesheet" href="/fontawesome/solid.min.css">

    
<link rel="stylesheet" href="/fontawesome/regular.min.css">

    
    
    
    
<meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="落雨乄天珀夜" type="application/atom+xml">
</head>


<body>
<div class="progress-bar-container">
    

    
        <span class="pjax-progress-bar"></span>
        <span class="swup-progress-icon">
            <i class="fa-solid fa-circle-notch fa-spin"></i>
        </span>
    
</div>


<main class="page-container" id="swup">

    

    <div class="main-content-container">


        <div class="main-content-header">
            <header class="navbar-container">
    
    <div class="navbar-content">
        <div class="left">
            
            <a class="logo-title" href="https://conqueror712.github.io/">
                
                Conqueror712
                
            </a>
        </div>

        <div class="right">
            <!-- PC -->
            <div class="desktop">
                <ul class="navbar-list">
                    
                        
                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class="" 
                                    href="/"  >
                                    
                                        
                                            <i class="fa-regular fa-house"></i>
                                        
                                        首页
                                    
                                </a>
                                <!-- Submenu -->
                                
                            </li>
                    
                    
                </ul>
            </div>
            <!-- Mobile -->
            <div class="mobile">
                
                <div class="icon-item navbar-bar">
                    <div class="navbar-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Mobile drawer -->
    <div class="navbar-drawer w-full absolute top-0 left-0 bg-background-color">
        <ul class="drawer-navbar-list flex flex-col justify-start items-center">
            
                
                    <li class="drawer-navbar-item text-base my-1.5 flex justify-center items-center">
                        <a class="rounded-3xl py-1.5 px-5 hover:border hover:!text-primary active:!text-primary group " 
                        href="/"  >
                             
                                
                                    <i class="fa-regular fa-house"></i>
                                
                                首页
                            
                        </a>
                    </li>
                    <!-- Submenu -->
                    
            

        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="main-content-body">

            

            <div class="main-content">

                
                    <div class="post-page-container">
    <div class="article-content-container">

        <div class="article-title">
            
                
                
                <img src="https://cdnjson.com/images/2023/03/20/wallhaven-we587x.jpg" alt="计网 - Ep2 - 应用层「万字长文」丨学习记录" class="max-w-none"/>
                
                <h1 class="article-title-cover">计网 - Ep2 - 应用层「万字长文」丨学习记录</h1>
            
            </div>
            
                    
        
        
            <div class="article-header">
                <div class="avatar">
                    <img src="/images/redefine-avatar.svg">
                </div>
                <div class="info">
                    <div class="author">
                        <span class="name">Conqueror712</span>
                        
                            <span class="author-label">Lv4</span>
                        
                    </div>
                    <div class="meta-info">
                        <div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fa-regular fa-pen-fancy"></i>&nbsp;
        <span class="desktop">2023-03-20 10:58:59</span>
        <span class="mobile">2023-03-20 10:58:59</span>
        <span class="hover-info">创建</span>
    </span>
    
        <span class="article-date article-meta-item">
            <i class="fa-regular fa-wrench"></i>&nbsp;
            <span class="desktop">2023-04-23 11:09:54</span>
            <span class="mobile">2023-04-23 11:09:54</span>
            <span class="hover-info">更新</span>
        </span>
    

    
        <span class="article-categories article-meta-item">
            <i class="fa-regular fa-folders"></i>&nbsp;
            <ul>
                
                
                    
                        
                        <li>
                            <a href="/categories/408/">408</a>&nbsp;
                        </li>
                    
                    
                
            </ul>
        </span>
    
    

    
    
    
    
        <span class="article-pv article-meta-item">
            <i class="fa-regular fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
        </span>
    
</div>

                    </div>
                </div>
            </div>
        

        


        <div class="article-content markdown-body">
            <p><em>Computer Networking A Top-Down Approach Learning Note Part 2</em></p>
<p><strong>前言</strong>：</p>
<p>本文是笔者初学计算机网络的笔记和一些心得，难免会有部分疏漏和错误，还请各位读者积极指出，不吝赐教。</p>
<p>有一些内容是笔者认为对自己暂时没那么重要的部分，就没有放上去，具体的内容可以查看相关的书籍。</p>
<p>观前提醒：本文篇幅较长，若您只是想看其中的某一小节的知识，直接点击目录进行跳转即可！</p>
<p>事不宜迟，我们开始吧！</p>
<blockquote>
<p>个人博客：<a href="https://conqueror712.github.io/">https://conqueror712.github.io/</a></p>
<p>知乎：<a class="link"   target="_blank" rel="noopener" href="https://www.zhihu.com/people/soeur712/posts" >https://www.zhihu.com/people/soeur712/posts <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p>Bilibili：<a class="link"   target="_blank" rel="noopener" href="https://space.bilibili.com/57089326" >https://space.bilibili.com/57089326 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p>掘金：<a class="link"   target="_blank" rel="noopener" href="https://juejin.cn/user/1297878069809725/posts" >https://juejin.cn/user/1297878069809725/posts <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
</blockquote>
<hr>
<h1 id="Unit-2-应用层"><a href="#Unit-2-应用层" class="headerlink" title="Unit 2 应用层"></a>Unit 2 应用层</h1><h2 id="应用层协议原理"><a href="#应用层协议原理" class="headerlink" title="应用层协议原理"></a>应用层协议原理</h2><p>网络核心中没有应用层软件</p>
<p>想法 → 网络应用</p>
<p>研发网络应用程序的核心：写出能够运行在不同的端系统和通过网络彼此通信的程序。</p>
<h3 id="网络-x2F-应用程序体系结构"><a href="#网络-x2F-应用程序体系结构" class="headerlink" title="网络&#x2F;应用程序体系结构"></a>网络&#x2F;应用程序体系结构</h3><p>Network architecture and applicaiton architecture are both the “design and structure”.</p>
<h4 id="常见的网络体系结构："><a href="#常见的网络体系结构：" class="headerlink" title="常见的网络体系结构："></a>常见的网络体系结构：</h4><ul>
<li>客户 - 服务器模式 <code>C - S</code><ul>
<li>服务器：<ul>
<li>一直运行</li>
<li><strong>固定的IP地址</strong>和周知的端口号，不像DHCP获取的动态IP</li>
<li>扩展性：服务器农场</li>
</ul>
</li>
<li>客户端：<ul>
<li>主动与服务器通信</li>
<li>与互联网有间歇性的连接</li>
<li>可能是<strong>动态IP地址</strong></li>
<li>不直接与其他客户端通信</li>
</ul>
</li>
</ul>
</li>
<li>对等模式 <code>P2P</code><ul>
<li>几乎没有一直运行的服务器<ul>
<li>任意端系统之间可以进行通信</li>
</ul>
</li>
<li>每一个节点既是客户端又是服务器<ul>
<li><strong>自扩展性</strong>：新的peer节点带来新的服务能力和新的服务请求</li>
</ul>
</li>
<li>参与的主机间歇性连接且可以改变IP地址</li>
<li>例如：迅雷</li>
</ul>
</li>
<li>混合体<ul>
<li>Napster<ul>
<li>文件搜索：集中</li>
<li>文件传输：P2P</li>
</ul>
</li>
<li>即时通信<ul>
<li>在线检测：集中</li>
<li>两个用户之间聊天：P2P</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="常见的应用程序体系结构："><a href="#常见的应用程序体系结构：" class="headerlink" title="常见的应用程序体系结构："></a>常见的应用程序体系结构：</h4><ul>
<li><p>分层体系结构（Layered Architecture）：</p>
<p>  应用程序被划分为多个层次，每个层次负责不同的功能。例如，MVC（Model-View-Controller）框架就是一种分层体系结构。</p>
</li>
<li><p>事件驱动体系结构（Event-Driven Architecture）：</p>
<p>  应用程序通过事件的方式进行通信和交互。事件可以是用户的操作、消息的到达、计时器的触发等等。例如，GUI（Graphical User Interface）应用程序就是一种事件驱动体系结构。</p>
</li>
<li><p>微服务体系结构（Microservices Architecture）：</p>
<p>  应用程序被划分为多个小型的、相互独立的服务。每个服务可以独立地开发、部署和扩展，从而提高应用程序的灵活性和可维护性。</p>
</li>
<li><p>基于消息的体系结构（Message-Based Architecture）：</p>
<p>  应用程序通过消息进行通信和交互。消息可以是文本、XML、JSON等格式的数据。例如，企业消息总线（Enterprise Service Bus）就是一种基于消息的体系结构。</p>
</li>
<li><p>一体式体系结构（All-in-one architecture），etc.</p>
</li>
</ul>
<h3 id="进程通信"><a href="#进程通信" class="headerlink" title="进程通信"></a>进程通信</h3><p>如何通信？</p>
<p>进程(process)与进程在相同的端系统上以进程间的通信机制互相通信，这个规则由操作系统决定。</p>
<p>而我们的重点是：两个<strong>不同的端系统</strong>之间是如何进行通信的——**交换报文(message)**。</p>
<ul>
<li>使用OS提供的通信服务</li>
<li>按照应用协议交换报文</li>
</ul>
<p>关于进程：</p>
<ul>
<li>客户端进程：发起通信的进程</li>
<li>服务端进程：等待连接的进程</li>
</ul>
<p>（P2P架构的应用也有客户端进程和服务端进程之分）</p>
<p>除此之外，分布式进程通信需要解决的问题如下：</p>
<ol>
<li>对进程进行编址（addressing）</li>
<li>传输层提供的服务：需要穿过层间的信息 + 层间信息的代表</li>
</ol>
<h3 id="TCP-socket"><a href="#TCP-socket" class="headerlink" title="TCP socket"></a>TCP socket</h3><p>为什么要有TCP socket?</p>
<p>不同的端口号对应了不同的协议 不同的进程，便于进行进程的寻址。</p>
<p>16bit的端口号 65536个状态</p>
<p>如果Socket API 每次传输报文，都携带如此多的信息，太繁琐易错，不便于管理</p>
<p>用个<strong>代号</strong>标示通信的双方或者单方：socket</p>
<p>就像OS打开文件返回的句柄一样</p>
<p>TCP socket:</p>
<ul>
<li>TCP服务，两个进程之间的通信需要之前要建立连接<ul>
<li>两个进程通信会持续一段时间，通信关系稳定</li>
</ul>
</li>
<li>可以用一个整数表示两个应用实体之间的通信关系 ，本地标示，类似Hash</li>
<li>穿过层间接口的信息量最小</li>
</ul>
<p>对于使用面向连接服务（TCP）的应用而言，套接字是4元组的一个具有本地意义的标示。</p>
<ul>
<li>四元组：源IP，源port，目标IP，目标port</li>
<li>唯一的指定了一个会话（2个进程之间的会话关系）</li>
<li>应用使用这个 ，与远程的应用进程通信</li>
<li>不必在每一个报文的发送都要指定这4元组</li>
<li>就像使用操作系统打开一个文件，OS返回一个文件句柄一样，以后使用这个文件句柄，而不是使用这个文件的目录名、文件名</li>
<li>简单，便于管理</li>
</ul>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://pic1.zhimg.com/v2-8302577e2963b8a605e72234f25d6082_1440w.jpg?source=172ae18b"
                      alt="avatar" style="zoom:80%;" 
                >



<h3 id="UDP-socket"><a href="#UDP-socket" class="headerlink" title="UDP socket"></a>UDP socket</h3><ul>
<li>UDP服务，两个进程之间的通信需要之前无需建立连接<ul>
<li>每个报文都是独立传输的</li>
<li>前后报文可能给不同的分布式进程</li>
</ul>
</li>
<li>因此，只能用一个整数表示本应用实体的标示<ul>
<li>因为这个报文可能传给另外一个分布式进程</li>
</ul>
</li>
<li>穿过层间接口的信息大小最小</li>
<li>UDP socket：本IP,本端口</li>
<li>但是传输报文时：必须要提供对方IP，port<ul>
<li>接收报文时： 传输层需要上传对方的IP，port</li>
</ul>
</li>
</ul>
<p>对于使用无连接服务（UDP）的应用而言，套接字是2元组的一个具有本地意义的标示</p>
<ul>
<li>2元组：IP，port（源端指定）</li>
<li>UDP套接字指定了应用所在的一个端节点（end point）</li>
<li>在发送数据报时，采用创建好的本地套接字（标示ID），就不必在发送每个报文中指明自己所采用的ip和port</li>
<li>但是在发送报文时，必须要指定对方的ip和udpport(另外一个段节点)</li>
</ul>
<p>进程向套接字发送报文或从套接字接收报文</p>
<h3 id="应用层协议"><a href="#应用层协议" class="headerlink" title="应用层协议"></a>应用层协议</h3><p>如何使用传输层提供的服务实现应用?</p>
<ul>
<li>定义应用层协议：报文格式，解释，时序等</li>
<li>编制程序，通过API调用网络基础设施提供通信服务传报文，解析报文，实现应用时序等</li>
</ul>
<p>应用层协议是什么？</p>
<p><strong>定义了</strong>：运行在不同端系统上 的应用<strong>如何相互交换报文</strong></p>
<p>应用协议仅仅是应用的一个组成部分</p>
<p>除此之外，还分成公开协议和专有协议</p>
<p>如何描述传输层的服务？</p>
<ul>
<li>数据丢失率</li>
<li>延时</li>
<li>吞吐</li>
<li>安全性</li>
</ul>
<h3 id="Internet-传输层提供的服务"><a href="#Internet-传输层提供的服务" class="headerlink" title="Internet 传输层提供的服务"></a>Internet 传输层提供的服务</h3><h4 id="TCP服务"><a href="#TCP服务" class="headerlink" title="TCP服务"></a>TCP服务</h4><ul>
<li>可靠的传输服务</li>
<li>流量控制：发送方不会淹没接收方</li>
<li>拥塞控制：当网络出现拥塞时，能抑制发送方</li>
<li>不能提供的服务：时间保证、最小吞吐量保证，安全</li>
<li>面向连接：要求在客户端进程和服务器进程之间建立连接</li>
</ul>
<h4 id="UDP服务"><a href="#UDP服务" class="headerlink" title="UDP服务"></a>UDP服务</h4><ul>
<li>不可靠数据传输</li>
<li>不提供的服务：可靠，流量控制，拥塞控制，时序，贷款保证，建立连接</li>
</ul>
<h4 id="UDP的存在有其必要性"><a href="#UDP的存在有其必要性" class="headerlink" title="UDP的存在有其必要性"></a>UDP的存在有其必要性</h4><ul>
<li>能够<strong>区分不同的进程</strong>，而IP服务不能<ul>
<li>在IP提供的主机到主机端到端功能的基础上，区分了主机的应用进程</li>
</ul>
</li>
<li><strong>无需建立连接</strong>，省去了建立连接时间，适合事务性应用</li>
<li><strong>不做可靠性的工作</strong>，例如检错重发，适合那些对实时性要求比较高而对正确性要求不高的应用</li>
<li>没有拥塞控制和流量控制，<strong>应用能够按照设定的速度发送数据</strong></li>
</ul>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdnjson.com/images/2023/03/20/image.png"
                      alt="avatar"
                ></p>
<h4 id="安全TCP——SSL"><a href="#安全TCP——SSL" class="headerlink" title="安全TCP——SSL"></a>安全TCP——SSL</h4><p>原本的TCP和UDP，都是没有加密的，甚至于密码都是明文传输；</p>
<p>引入SSL，<strong>在TCP上面实现</strong>，提供加密的TCP连接；</p>
<ul>
<li>私密性</li>
<li>数据完整性</li>
<li>端到端的鉴别</li>
</ul>
<p><strong>SSL在应用层</strong>，应用采用SSL库，而SSL库使用传输层的TCP进行通信；</p>
<p>应用通过API将明文交给socket，SSL将其加密并在互联网上传输，详见Unit8。</p>
<blockquote>
<p>SSL是<strong>Secure Sockets Layer安全套接字层</strong>的缩写，是一系列<strong>加密技术</strong>，允许Web用户保护他们通过Internet传输的信息的<strong>隐私</strong>。</p>
<p>当您访问安全网站时，您会在 URL 旁边看到一个锁，表示您与该网站的通信<strong>已加密</strong>。</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://s2.loli.net/2023/01/29/6mWG8plUqKEt2O1.png"
                      alt="avatar"
                ></p>
<p>该锁应该表明<strong>第三方将无法读取您发送或接收的任何信息</strong>。在后台，SSL通过将您的数据转换为只有收件人知道如何破译的编码消息来实现这一点。如果恶意方正在监听对话，它只会看到看似随机的字符串，而不会看到您的电子邮件、Facebook 帖子、信用卡号或其他私人信息的内容。</p>
</blockquote>
<h4 id="TCP三次握手四次挥手"><a href="#TCP三次握手四次挥手" class="headerlink" title="TCP三次握手四次挥手"></a>TCP三次握手四次挥手</h4><p>为了保证客户端和服务器端的可靠连接，TCP建立连接时<strong>必须</strong>要进行三次会话，也叫TCP三次握手，</p>
<p>进行三次握手的目的是为了<strong>确认双方的接收能力和发送能力是否正常</strong>。</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdnjson.com/images/2023/03/21/image1ce75f8803f2d480.png"
                      alt="avatar" style="zoom:80%;" 
                >

<blockquote>
<p>最开始的时候客户端和服务器都是处于CLOSED关闭状态。主动打开连接的为客户端，被动打开连接的是服务器。</p>
<p>TCP服务器进程先创建传输控制块TCB，时刻准备接受客户进程的连接请求，此时服务器就进入了 <strong>LISTEN 监听状态</strong></p>
<p>第一次握手 TCP客户进程也是先创建传输控制块TCB，然后向服务器发出连接请求报文，这是报文首部中的同部位SYN&#x3D;1，同时选择一个初始序列号 seq&#x3D;x ，此时，TCP客户端进程进入了 <strong>SYN-SENT 同步已发送状态</strong></p>
<p>第二次握手 TCP服务器收到请求报文后，如果同意连接，则会向客户端发出确认报文。确认报文中应该 ACK&#x3D;1，SYN&#x3D;1，确认号是ack&#x3D;x+1，同时也要为自己初始化一个序列号 seq&#x3D;y，此时，TCP服务器进程进入了 <strong>SYN-RCVD 同步收到状态</strong></p>
<p>第三次握手 TCP客户端收到确认后，还要向服务器给出确认。确认报文的ACK&#x3D;1，ack&#x3D;y+1，自己的序列号seq&#x3D;x+1，此时，TCP连接建立，客户端进入<strong>ESTABLISHED已建立连接状态</strong> 触发三次握手</p>
<p>有人可能会很疑惑为什么要进行第三次握手？<br>主要原因：<strong>防止已经失效的连接请求报文突然又传送到了服务器，从而产生错误</strong></p>
<p><strong>第一次握手： 客户端向服务器端发送报文</strong><br>        证明客户端的发送能力正常<br><strong>第二次握手：服务器端接收到报文并向客户端发送报文</strong><br>        证明服务器端的接收能力、发送能力正常<br><strong>第三次握手：客户端向服务器发送报文</strong><br>        证明客户端的接收能力正常</p>
</blockquote>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdnjson.com/images/2023/03/21/image24fec85472fe6e50.png"
                      alt="avatar" style="zoom:80%;" 
                >

<blockquote>
<p>数据传输完毕后，双方都可释放连接。最开始的时候，客户端和服务器都是处于<strong>ESTABLISHED</strong>状态，然后客户端主动关闭，服务器被动关闭。</p>
<p>第一次挥手 客户端发出连接释放报文，并且停止发送数据。释放数据报文首部，FIN&#x3D;1，其序列号为seq&#x3D;u（等于前面已经传送过来的数据的最后一个字节的序号加1），此时，客户端进入<strong>FIN-WAIT-1（终止等待1）</strong>状态</p>
<p>第二次挥手 服务器端接收到连接释放报文后，发出确认报文，ACK&#x3D;1，ack&#x3D;u+1，并且带上自己的序列号seq&#x3D;v，此时，服务端就进入了CLOSE-WAIT 关闭等待状态</p>
<p>第三次挥手 客户端接收到服务器端的确认请求后，客户端就会进入<strong>FIN-WAIT-2（终止等待2）</strong>状态，等待服务器发送连接释放报文，服务器将最后的数据发送完毕后，就向客户端发送连接释放报文，服务器就进入了LAST-ACK（最后确认）状态，等待客户端的确认。</p>
<p>第四次挥手 客户端收到服务器的连接释放报文后，必须发出确认，ACK&#x3D;1，ack&#x3D;w+1，而自己的序列号是seq&#x3D;u+1，此时，客户端就进入了<strong>TIME-WAIT（时间等待）</strong>状态，但此时TCP连接还未终止，必须要经过2MSL后（最长报文寿命），当客户端撤销相应的TCB后，客户端才会进入CLOSED关闭状态，服务器端接收到确认报文后，会立即进入CLOSED关闭状态，到这里TCP连接就断开了，四次挥手完成</p>
<p>为什么客户端要等待2MSL？<br>主要原因是为了保证客户端发送那个的第一个ACK报文能到服务器，因为这个ACK报文可能丢失，并且2MSL是任何报文在网络上存在的最长时间，超过这个时间报文将被丢弃，这样<strong>新的连接中不会出现旧连接的请求报文</strong>。</p>
</blockquote>
<hr>
<h2 id="Web-amp-HTTP"><a href="#Web-amp-HTTP" class="headerlink" title="Web &amp; HTTP"></a>Web &amp; HTTP</h2><h3 id="Web概述"><a href="#Web概述" class="headerlink" title="Web概述"></a>Web概述</h3><p>由一些<strong>对象</strong>组成，有哪些对象？</p>
<ul>
<li>HTML文件、JPEG图像、Java小程序、音视频文件etc.</li>
</ul>
<p>Web页含有一个<strong>基本的HTML文件</strong>，该基本HTML文件又包含若干对象的引用（链接）；</p>
<p>对象如何引用？</p>
<ul>
<li>通过URL对每个对象进行引用，URL包括访问协议，用户名，口令字，端口，目录文件等；</li>
</ul>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdnjson.com/images/2023/03/20/image3119aaf482192bea.png"
                      alt="avatar"
                ></p>
<h3 id="HTTP概述"><a href="#HTTP概述" class="headerlink" title="HTTP概述"></a>HTTP概述</h3><p><strong>一句话解释</strong>：HTTP 是用于获取 HTML 文档等资源的<strong>协议</strong>——我们称之为<strong>超文本传输协议</strong>。</p>
<p>它是 Web 上任何数据交换的基础，在<strong>应用层</strong>上，是一种<strong>客户端-服务器协议</strong>，</p>
<p>这意味着请求由接收者（通常是 Web 浏览器）发起。</p>
<p>从获取的不同子文档（例如文本、布局描述、图像、视频、脚本等）重建完整的文档。</p>
<p>它使用TCP，默认端口号为80；</p>
<p>（HTTPS使用了SSL，默认端口号为443）</p>
<ul>
<li>具体过程为：客户发起一个与服务器的TCP连接（建立socket），服务器接受连接，随后在浏览器和Web服务器之间交换HTTP报文，最后TCP连接关闭。</li>
</ul>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://developer.mozilla.org/en-US/docs/Web/HTTP/Overview/fetching_a_page.png"
                      alt="avatar"
                ></p>
<p>客户端和服务器通过交换单个消息（而不是数据流）进行通信。 </p>
<ul>
<li>客户端（通常是 Web 浏览器）发送的消息称为<strong>请求</strong>；</li>
<li>服务器作为应答发送的消息称为<strong>响应</strong>。</li>
</ul>
<p><strong>协议</strong>是定义如何在计算机内部或计算机之间交换数据的规则系统。设备之间的通信要求设备就正在交换的数据的格式达成一致。</p>
<p>定义格式的规则集称为协议。</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://developer.mozilla.org/en-US/docs/Web/HTTP/Overview/http-layers.png"
                      alt="avatar"
                ></p>
<hr>
<h3 id="基于HTTP的系统组件"><a href="#基于HTTP的系统组件" class="headerlink" title="基于HTTP的系统组件"></a>基于HTTP的系统组件</h3><p>HTTP是一种<strong>客户端-服务器协议</strong>：请求由一个实体发送，即用户代理（或代表它的代理）。 大多数情况下，用户代理是一个Web浏览器，但它可以是任何东西。</p>
<p>每个单独的请求都发送到服务器，服务器处理它并提供称为<strong>响应</strong>的答案。</p>
<p>在客户端和服务器之间有许多实体，统称为<strong>代理Proxy</strong>，例如，它们执行不同的操作并充当网关or<strong>缓存Cache</strong>。</p>
<p>实际上，浏览器和处理请求的服务器之间有更多的计算机：有路由器、调制解调器等。 由于Web的分层设计，这些隐藏在网络和传输层中。 HTTP位于应用程序层的<strong>顶部</strong>。 虽然对于诊断网络问题很重要，但底层大多与 HTTP 的描述无关。</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://developer.mozilla.org/en-US/docs/Web/HTTP/Overview/client-server-chain.png"
                      alt="avatar"
                ></p>
<h4 id="Proxy："><a href="#Proxy：" class="headerlink" title="Proxy："></a>Proxy：</h4><p><strong>代理服务器</strong>是在互联网的不同网络中导航时使用的<strong>中间程序或计算机</strong>。它们<strong>有助于访问万维网上的内容</strong>。</p>
<p>代理拦截请求并提供回响应；它可以转发或不转发请求（例如在缓存的情况下），并且可以修改请求（例如，在两个网络之间的边界处更改其标头）。</p>
<p>代理可以位于用户的本地计算机上，也可以位于用户计算机和 Internet 上的目标服务器之间的任何位置。通常有两种主要类型的代理服务器：由于 Web 堆栈的分层结构，其中大多数在传输、网络或物理级别运行，在 HTTP 层变得透明，并可能对性能产生重大影响。</p>
<ul>
<li>处理来自和发送到互联网上任何位置的请求的<strong>转发代理</strong>。</li>
<li>一种<strong>反向代理</strong>，从 Internet 接收请求并将其转发到内部网络中的服务器。</li>
</ul>
<p>代理的<strong>功能</strong>：</p>
<ul>
<li>缓存（缓存可以是公共的或私有的，就像浏览器缓存一样）</li>
<li>过滤（如防病毒扫描或家长控制）</li>
<li>负载平衡（允许多个服务器为不同的请求提供服务）</li>
<li>身份验证（控制对不同资源的访问）</li>
<li>日志记录（允许存储历史信息）</li>
</ul>
<h4 id="Cache："><a href="#Cache：" class="headerlink" title="Cache："></a>Cache：</h4><p><strong>缓存</strong>（Web 缓存或 HTTP 缓存）是临时存储 HTTP 响应的组件，以便只要满足某些条件，就可以将其用于后续 HTTP 请求。</p>
<p><strong>Web缓存</strong>（代理服务器）：</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdnjson.com/images/2023/03/20/image28c57533d28138e0.png"
                      alt="avatar" style="zoom:67%;" 
                >

<ul>
<li>缓存既是客户端又是服务器</li>
<li>通常缓存是由ISP安装 (大学、公司、居民区ISP)</li>
</ul>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdnjson.com/images/2023/03/20/image526f313d27cbed65.png"
                      alt="avatar" style="zoom: 67%;" 
                >

<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdnjson.com/images/2023/03/20/image59b4b89bf717356d.png"
                      alt="avatar" style="zoom:67%;" 
                >

<blockquote>
<p>这部分会有一些计算题，题型示例如下：</p>
<ul>
<li>更快的接入链路</li>
<li>安装本地缓存</li>
</ul>
</blockquote>
<h4 id="客户端：用户代理"><a href="#客户端：用户代理" class="headerlink" title="客户端：用户代理"></a>客户端：用户代理</h4><p>用户代理是代表用户执行操作的任何工具。 </p>
<p>浏览器<strong>始终</strong>是发起请求的实体，它<strong>从来</strong>都不是服务器。</p>
<h4 id="网络服务器"><a href="#网络服务器" class="headerlink" title="网络服务器"></a>网络服务器</h4><p>通信通道的另一端是服务器，它根据客户端的请求<strong>提供文档</strong>。 服务器实际上仅显示为一台计算机；</p>
<p>但它实际上可能是共享负载（负载平衡）的服务器的<strong>集合</strong>，或者是询问其他计算机（如缓存、数据库服务器或电子商务服务器）的<strong>复杂软件</strong>。</p>
<hr>
<h3 id="HTTP的基本方面"><a href="#HTTP的基本方面" class="headerlink" title="HTTP的基本方面"></a>HTTP的基本方面</h3><h4 id="HTTP是可扩展的"><a href="#HTTP是可扩展的" class="headerlink" title="HTTP是可扩展的"></a>HTTP是可扩展的</h4><p>HTTP &#x2F; 1.0中引入的<code>HTTP标头</code>使该协议易于扩展和试验。 </p>
<p>新功能甚至可以通过客户端和服务器之间关于新标头语义的简单协议来引入。</p>
<h4 id="HTTP是无状态的，但不是无会话的"><a href="#HTTP是无状态的，但不是无会话的" class="headerlink" title="HTTP是无状态的，但不是无会话的"></a>HTTP是无状态的，但不是无会话的</h4><p>服务器并不维护关于客户的任何信息</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdnjson.com/images/2023/03/20/image0e6c0ee3d22f034b.png"
                      alt="avatar" style="zoom: 80%;" 
                >

<ul>
<li><p>无状态的：在同一连接上连续执行的两个请求之间没有链接。</p>
<blockquote>
<p>具体来说，HTTP是无状态的意味着从客户端到服务器的每个请求都被视为一个独立的事务，不知道之前的任何请求。这意味着服务器不存储客户端的会话信息，也不保留任何来自该客户端的先前请求的内存。客户端负责维护状态，如果有必要，可以在每个请求中向服务器发送信息，例如身份验证凭据或会话ID。这种设计在可扩展性和可靠性方面非常有用，因为它允许服务器独立处理每个请求，并确保在服务器出现故障时不会丢失会话数据。</p>
</blockquote>
</li>
<li><p>有状态会话：HTTP cookie允许使用有状态会话。 使用标头可扩展性，HTTP Cookie 将添加到工作流中，从而允许在每个 HTTP 请求上创建会话以共享相同的上下文或相同的状态。</p>
</li>
</ul>
<h4 id="HTTP和连接"><a href="#HTTP和连接" class="headerlink" title="HTTP和连接"></a>HTTP和连接</h4><p>连接在传输层进行控制，因此从根本上超出了 HTTP 的范围。</p>
<p>HTTP 不要求基础传输协议基于连接;它只要求它是可靠的，或者不丢失消息。</p>
<p>在互联网上最常见的两种传输协议中，TCP是可靠的，UDP不是。 因此，<strong>HTTP依赖于基于连接的TCP标准</strong>。</p>
<p>更进一步地，HTTP分为<strong>非持久HTTP和可持久HTTP</strong></p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdnjson.com/images/2023/03/20/imagefdaa0ed04498039f.png"
                      alt="avatar" style="zoom:80%;" 
                >

<p><strong>响应时间模型</strong>：</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdnjson.com/images/2023/03/20/image0650084f136d9f1c.png"
                      alt="avatar"
                ></p>
<p>则可以得出：</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdnjson.com/images/2023/03/20/image1710c48906cf7aff.png"
                      alt="avatar" style="zoom:80%;" 
                >

<hr>
<h3 id="HTTP可以控制什么"><a href="#HTTP可以控制什么" class="headerlink" title="HTTP可以控制什么?"></a>HTTP可以控制什么?</h3><blockquote>
<ul>
<li>缓存： 文档的缓存方式可以通过 HTTP 控制。 服务器可以指示代理和客户端缓存什么以及缓存多长时间。 客户端可以指示中间缓存代理忽略存储的文档。</li>
<li>放宽原点约束： 为了防止窥探和其他隐私侵犯，Web 浏览器强制在网站之间严格隔离。 只有来自同一来源的页面才能访问网页的所有信息。 虽然这样的约束对服务器来说是一种负担，但 HTTP 标头可以放松服务器端的这种严格分离，允许文档成为来自不同域的信息的拼凑;这样做甚至可能有与安全相关的原因。</li>
<li>身份验证： 某些页面可能受到保护，以便只有特定用户才能访问它们。 基本身份验证可以通过 HTTP 提供，可以使用 WWW-Authenticate 和类似的标头，也可以通过使用 HTTP cookie 设置特定会话来提供。</li>
<li>代理和隧道： 服务器或客户端通常位于 Intranet 上，对其他计算机隐藏其真实 IP 地址。 然后，HTTP 请求通过代理来跨越此网络屏障。 并非所有代理都是 HTTP 代理。 例如，SOCKS协议在较低级别运行。 其他协议（如 ftp）可以由这些代理处理。</li>
<li>会议： 使用 HTTP Cookie 允许您将请求与服务器的状态相关联。 这会创建会话，尽管基本的HTTP是无状态协议。 这不仅对电子商务购物篮有用，而且对允许用户配置输出的任何站点也很有用。</li>
</ul>
</blockquote>
<hr>
<h3 id="HTTP流"><a href="#HTTP流" class="headerlink" title="HTTP流"></a>HTTP流</h3><p>当客户端想要与服务器，也可能是中间代理通信时，它会执行以下步骤：</p>
<ol>
<li><p>打开 TCP 连接：</p>
<p> TCP 连接用于发送一个或多个请求并接收应答。 客户端可以打开新连接、重用现有连接或打开与服务器的多个 TCP 连接。</p>
</li>
<li><p>发送HTTP消息：</p>
<p> HTTP消息（在HTTP &#x2F; 2之前）是人类可读的ASCII。 使用HTTP &#x2F; 2，这些简单的消息被封装在框架中，使它们无法直接读取，但原理保持不变。</p>
<p> 一个例子：</p>
 <img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdnjson.com/images/2023/03/20/image6d271a2fc58c258e.png"
                      alt="avatar" style="zoom:80%;" 
                >
 
 
</li>
<li><p>读取服务器发送的响应</p>
<p> 一个例子：</p>
 <img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdnjson.com/images/2023/03/20/image22be64134434b9e0.png"
                      alt="avatar" style="zoom: 80%;" 
                >
 
 
</li>
<li><p>关闭或重新使用连接以处理进一步的请求</p>
</li>
</ol>
<hr>
<h3 id="HTTP消息与报文"><a href="#HTTP消息与报文" class="headerlink" title="HTTP消息与报文"></a>HTTP消息与报文</h3><p>有两种类型的 HTTP 消息：请求和响应，每种都有自己的格式。</p>
<h4 id="请求："><a href="#请求：" class="headerlink" title="请求："></a>请求：</h4><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://developer.mozilla.org/en-US/docs/Web/HTTP/Overview/http_request.png"
                      alt="avatar" style="zoom:80%;" 
                >

<p>更形式化地：</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdnjson.com/images/2023/03/20/imageac69b0bb3a3c845a.png"
                      alt="avatar" style="zoom:80%;" 
                >

<p>关于提交表单输入：</p>
<ul>
<li><p>URL(Uniform Resource Locator统一资源定位符)：</p>
<ul>
<li><p>一个标准的URL语法组成是下面这样的：</p>
<p>  <code>scheme://login:password@address:port/path_to_resource?query_string#fragment</code></p>
<p>  抽象一下：传输协议 + 域名或IP地址 + [端口(端口为80时可省略)] + 资源路径 + 查询字符串</p>
</li>
<li><p><strong>GET</strong>：</p>
<p>  GET - 通常是从指定的服务器中获取数据，查询字符串（键值对）被附加在URL地址后面一起发送到服务器，如下面这样的：<code>http://localhost:8090/api/query?id=3</code>。</p>
</li>
<li><p><strong>POST</strong>：</p>
<p>  POST - 通常是提交数据给指定的服务器处理，当然也可以从服务器获取数据。使用POST方法时，查询字符串或发送的数据在POST信息中单独存在，和请求URL一起发送到服务器，而不是像GET方法一样直接放在URL中。</p>
</li>
</ul>
</li>
<li><p>GET和POST的区别：</p>
<ul>
<li>从上面的例子我们可以看到，GET请求消息体（body）为空，POST请求带有消息体（请区分请求body和响应body）。</li>
<li>GET提交的数据会放在URL之后，以<code>?</code>分割URL和传输数据，参数之间以&amp;相连，如<code>query?name=test1&amp;id=123456</code></li>
<li>POST方法是把提交的数据放在HTTP包的请求body中。</li>
<li>GET提交的数据大小有限制（因为浏览器对URL的长度有限制），而POST方法提交的数据没有限制。</li>
<li>GET方式提交数据，会带来安全问题，比如一个登录页面，通过GET方式提交数据时，用户名和密码将出现在URL上，如果页面可以被缓存或者其他人可以访问这台机器，就可以从历史记录获得该用户的账号和密码。</li>
</ul>
</li>
</ul>
<h4 id="响应："><a href="#响应：" class="headerlink" title="响应："></a>响应：</h4><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://developer.mozilla.org/en-US/docs/Web/HTTP/Overview/http_response.png"
                      alt="avatar" style="zoom:80%;" 
                >

<p><strong>HTTP响应状态码</strong>：</p>
<p>位于服务器-&gt;客户端的响应报文中的首行，一些例子如下：</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdnjson.com/images/2023/03/20/image24df29d653810384.png"
                      alt="avatar" style="zoom:80%;" 
                >

<hr>
<h3 id="HTTP-Cookies："><a href="#HTTP-Cookies：" class="headerlink" title="HTTP - Cookies："></a>HTTP - Cookies：</h3><p>HTTP cookies就是 <strong>服务器端发送给浏览器端的一小部分数据</strong></p>
<p>用户-服务器状态，有四个组成部分，可以用于用户验证，购物车，推荐和用户状态等。</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdnjson.com/images/2023/03/20/image25e57c65ed133283.png"
                      alt="avatar" style="zoom:67%;" 
                >

<p>Cookies可以<strong>维护状态</strong>，How？：</p>
<ul>
<li>协议端节点：在多个事务上 ，发送端和接收端维持状态</li>
<li>cookies: http报文携带状态信息</li>
</ul>
<p>Cookies与隐私：</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdnjson.com/images/2023/03/20/image4af0dd2b5b6bab42.png"
                      alt="avatar" style="zoom: 67%;" 
                >

<hr>
<h2 id="FTP文件传输协议"><a href="#FTP文件传输协议" class="headerlink" title="FTP文件传输协议"></a>FTP文件传输协议</h2><p>第七版的自顶向下计算机网络删除了这一部分内容，有可能是因为这个技术有点老，现在用的不是很多了。</p>
<p>了解即可。</p>
<p>默认端口号：21</p>
<p>FTP的RFC：959</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdnjson.com/images/2023/03/21/imageafdfc0d77807b783.png"
                      alt="avatar" style="zoom: 80%;" 
                >

<h3 id="控制连接和数据连接事分开的，两个不同的端口"><a href="#控制连接和数据连接事分开的，两个不同的端口" class="headerlink" title="控制连接和数据连接事分开的，两个不同的端口"></a>控制连接和数据连接事分开的，两个不同的端口</h3><p>HTTP只用一个端口</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdnjson.com/images/2023/03/21/image1759ddbc37f71cbc.png"
                      alt="avatar" style="zoom:67%;" 
                >

<p>服务主动向客户端20号端口发起一个连接</p>
<ul>
<li>带内的传数据</li>
<li>带外的传控制信息和指令</li>
</ul>
<h3 id="FTP协议有状态"><a href="#FTP协议有状态" class="headerlink" title="FTP协议有状态"></a>FTP协议有状态</h3><p>服务器要维护这个状态，与HTTP不一样。</p>
<hr>
<h2 id="Email"><a href="#Email" class="headerlink" title="Email"></a>Email</h2><p>电子邮件的三个主要组成部分：</p>
<ul>
<li>用户代理（邮件阅读器）</li>
<li>邮件服务器</li>
<li>简单邮件传输协议：SMTP</li>
</ul>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdnjson.com/images/2023/03/21/imagee0d2ad6dbbeb693d.png"
                      alt="avatar" style="zoom: 80%;" 
                >

<h3 id="邮件服务器"><a href="#邮件服务器" class="headerlink" title="邮件服务器"></a>邮件服务器</h3><p><strong>管理和维护</strong>发送给用户的邮件；</p>
<p>输出<strong>报文队列</strong>保持待发送邮件报文；</p>
<h3 id="SMTP"><a href="#SMTP" class="headerlink" title="SMTP"></a>SMTP</h3><p>RFC 2821；</p>
<p>SMTP使用持久连接；</p>
<p>SMTP使用CRLF.CRLF决定报文的尾部；</p>
<p>使用TCP在客户端和服务器之间发送报文；</p>
<p>默认端口号为25；</p>
<p>使用直接传输，即从发送方服务器到接收方服务器</p>
<p>传输的三个阶段：</p>
<ul>
<li>握手</li>
<li>传输报文</li>
<li>关闭</li>
</ul>
<p>命令&#x2F;响应交互：（报文必须是7位ASCII码）</p>
<ul>
<li>命令：ASCII文本</li>
<li>响应：状态码和状态信息</li>
</ul>
<p>与HTTP的对比：</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdnjson.com/images/2023/03/21/image94f864dc927fc86b.png"
                      alt="avatar" style="zoom:67%;" 
                >

<h3 id="邮件报文格式与多媒体扩展"><a href="#邮件报文格式与多媒体扩展" class="headerlink" title="邮件报文格式与多媒体扩展"></a>邮件报文格式与多媒体扩展</h3><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdnjson.com/images/2023/03/21/image5fdf03bceeccec09.png"
                      alt="avatar" style="zoom: 80%;" 
                >

<p>多媒体扩展：</p>
<p>MIME - multimedia mail extension</p>
<p>RFC 2045, 2056</p>
<p>在报文首部用额外的行申明MIME内容类型</p>
<h3 id="邮件访问协议"><a href="#邮件访问协议" class="headerlink" title="邮件访问协议"></a>邮件访问协议</h3><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdnjson.com/images/2023/03/21/image64369186f029e146.png"
                      alt="avatar" style="zoom:80%;" 
                >

<p>与SMTP的区别：</p>
<ul>
<li><p>SMTP是<strong>传送到接收方</strong>的邮件服务器</p>
</li>
<li><p>邮件访问协议是<strong>从服务器访问邮件</strong></p>
<p>  具体来说：</p>
<ul>
<li>POP：邮局访问协议——用户身份确认 (代理&lt;–&gt;服务器) 并下载</li>
<li>IMAP：Internet邮件访问协议——更多特性但也更复杂，在服务器上处理存储的报文</li>
<li>HTTP：Hotmail , Yahoo! Mail等——方便</li>
</ul>
</li>
</ul>
<h3 id="关于POP3协议的更多："><a href="#关于POP3协议的更多：" class="headerlink" title="关于POP3协议的更多："></a>关于POP3协议的更多：</h3><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdnjson.com/images/2023/03/21/image5a65dcef36501dd0.png"
                      alt="avatar" style="zoom: 80%;" 
                >

<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cdnjson.com/images/2023/03/21/imagebbaa174f5b19e4a5.png"
                      alt="avatar" style="zoom:80%;" 
                >

<hr>
<h2 id="DNS-互联网的电话簿"><a href="#DNS-互联网的电话簿" class="headerlink" title="DNS - 互联网的电话簿"></a>DNS - 互联网的电话簿</h2><h3 id="简介："><a href="#简介：" class="headerlink" title="简介："></a>简介：</h3><p>DNS（域名系统 Domain Name System ）是互联网连接资源的分层和分散命名系统；</p>
<p>DNS维护域名列表以及与其关联的资源（如 IP 地址）；</p>
<p>DNS最突出的功能是将人性化域名转换为数字IP地址；</p>
<p>将域名映射到相应 IP 地址的过程称为 DNS 查找，相比之下，反向 DNS 查找 （rDNS） 用于确定与 IP 地址关联的域名。</p>
<h3 id="额外的安全层？"><a href="#额外的安全层？" class="headerlink" title="额外的安全层？"></a>额外的安全层？</h3><p>默认情况下，DNS查询Request和响应Response以<strong>明文形式</strong>，通过UDP发送，也就是说网络、ISP 或任何能够监控传输的人都可以读取它们。即使网站使用 HTTPS，也会公开导航到该网站所需的 DNS 查询。</p>
<p>如何解决呢？事实上有两种办法：TLS上的DNS和HTTPS上的DNS，他们都是为加密明文DNS流量而开发的标准。</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://cf-assets.www.cloudflare.com/slt3lc6tev37/7qcyOJwWyOt4EVJykiIRTn/30e34453409eb42fa1ec36680609ad8d/dns-traffic-over-tls-https.svg"
                      alt="avatar"
                ></p>
<h3 id="DNS-x2F-HTTPS-over-DNS"><a href="#DNS-x2F-HTTPS-over-DNS" class="headerlink" title="DNS &#x2F; HTTPS-over-DNS?"></a>DNS &#x2F; HTTPS-over-DNS?</h3><p>TLS 上的 DNS 或 DoT 是加密 DNS 查询以保持其安全和私密性的标准。</p>
<p>DoT 使用与 HTTPS 网站相同的安全协议 TLS 来加密和验证通信（TLS也称为”SSL”）。</p>
<p>DoT 在用户数据报协议 UDP 之上添加了 TLS 加密，该协议用于 DNS 查询。</p>
<p>此外，它还确保 DNS 请求和响应不会因中间人攻击而被篡改或伪造。</p>
<p>DNS over HTTPS，或DoH，是DoT的替代方案。</p>
<p>使用 DoH，DNS 查询和响应是加密的，但它们是通过 HTTP 或 HTTP&#x2F;2 协议发送的，而不是直接通过 UDP 发送的。</p>
<h4 id="有何不同？"><a href="#有何不同？" class="headerlink" title="有何不同？"></a><strong>有何不同</strong>？</h4><p>每个标准都是单独开发的，都有自己的 RFC（征求意见） 文档，</p>
<p>但 DoT 和 DoH 之间最重要的<strong>区别在于它们使用的端口</strong>。</p>
<p>DoT 仅使用端口 853，而 DoH 使用端口 443，这是<strong>所有其他 HTTPS 流量使用的端口</strong>。</p>
<p>由于 DoT 具有专用端口，因此任何具有网络可见性的人都可以看到 DoT 流量的来来去去，即使请求和响应本身是加密的。相比之下，在DoH中，DNS查询和响应伪装在其他HTTPS流量中，因为它们都来自同一端口。</p>
<h4 id="哪个更好？"><a href="#哪个更好？" class="headerlink" title="哪个更好？"></a>哪个更好？</h4><p>从网络安全的角度来看，DoT可以说更好。它使网络管理员能够监视和阻止 DNS 查询，这对于识别和阻止恶意流量非常重要。同时，DoH查询隐藏在常规HTTPS流量中，这意味着如果不阻止所有其他HTTPS流量，就无法轻松阻止它们。</p>
<p>但是，从隐私的角度来看，DoH可以说是可取的。使用 DoH，DNS 查询隐藏在较大的 HTTPS 流量中。这降低了网络管理员的可见性，但为用户提供了更多的隐私。</p>
<hr>
<h3 id="涉及-DNS-的常见攻击有哪些？"><a href="#涉及-DNS-的常见攻击有哪些？" class="headerlink" title="涉及 DNS 的常见攻击有哪些？"></a>涉及 DNS 的常见攻击有哪些？</h3><ul>
<li><strong>DNS 欺骗&#x2F;缓存中毒</strong>：这是一种将伪造的 DNS 数据引入 DNS 解析程序缓存的攻击，导致解析器返回域的错误 IP 地址。流量可以转移到恶意机器或攻击者想要的任何地方，而不是转到正确的网站;通常，这将是用于恶意目的（例如分发恶意软件或收集登录信息）的原始站点的副本。</li>
<li><strong>DNS 隧道</strong>：此攻击使用其他协议通过 DNS 查询和响应进行隧道传输。攻击者可以使用 SSH、TCP 或 HTTP 将恶意软件或被盗信息传递到 DNS 查询中，而大多数防火墙都不会检测到。</li>
<li><strong>DNS 劫持</strong>：在 DNS 劫持中，攻击者将查询重定向到其他域名服务器。这可以通过恶意软件或未经授权修改 DNS 服务器来完成。尽管结果与DNS欺骗的结果相似，但这是一种根本不同的攻击，因为它针对的是名称服务器上网站的DNS记录，而不是解析器的缓存。</li>
<li><strong>NXDOMAIN 攻击</strong>：这是一种 DNS 洪水攻击，攻击者用请求淹没 DNS 服务器，请求不存在的记录，试图导致合法流量的拒绝服务。这可以使用复杂的攻击工具来实现，这些工具可以为每个请求自动生成唯一的子域。NXDOMAIN 攻击还可以针对递归解析器，目的是用垃圾请求填充解析器的缓存。</li>
<li><strong>幻域攻击</strong>：幻像域攻击的结果与 DNS 解析器上的 NXDOMAIN 攻击类似。攻击者设置了一堆“幻像”域服务器，这些服务器要么响应请求非常慢，要么根本不响应。然后，解析器受到对这些域的大量请求的打击，解析器被占用等待响应，导致性能降低和拒绝服务。</li>
<li><strong>随机子域攻击</strong>：在这种情况下，攻击者会针对一个合法站点的多个随机、不存在的子域发送 DNS 查询。目标是为域的权威名称服务器创建拒绝服务，从而无法从名称服务器查找网站。作为副作用，为攻击者提供服务的ISP也可能受到影响，因为他们的递归解析器的缓存将加载错误请求。</li>
<li><strong>域锁定攻击</strong>：攻击者通过设置特殊域和解析器来与其他合法解析器创建 TCP 连接，从而策划这种形式的攻击。当目标解析器发送请求时，这些域会发回缓慢的随机数据包流，从而占用解析器的资源。</li>
<li><strong>基于僵尸网络的 CPE 攻击</strong>：这些攻击是使用 CPE 设备（客户端设备;这是服务提供商提供的供其客户使用的硬件，例如调制解调器、路由器、电缆盒等）进行的。攻击者破坏CPE，设备成为僵尸网络的一部分，用于对一个站点或域执行随机子域攻击。</li>
</ul>
<p><del>（怎么名字都这么帅的）</del></p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://www.cloudflare.com/img/learning/dns/dns-security/dns-hijacking.png"
                      alt="avatar"
                ></p>
<hr>
<h3 id="域名安全"><a href="#域名安全" class="headerlink" title="域名安全"></a>域名安全</h3><p>DNS 安全扩展 （DNSSEC） 是为缓解此问题而创建的安全协议。</p>
<p>DNSSEC 通过对数据进行数字签名来帮助确保其有效性，从而防止攻击。</p>
<p>为了确保安全查找，必须在 DNS 查找过程中的<strong>每个级别进行签名</strong>。</p>
<p>有关 DNSSEC 的更多内容请参考：<a class="link"   target="_blank" rel="noopener" href="https://blog.cloudflare.com/dnssec-an-introduction/?_gl=1*1k44464*_ga*MzE2OTQ0NzY1LjE2NzUxNDM3NzI.*_gid*NjAzODc2NjAyLjE2NzUxNDM3NzI." >DNSSEC: An Introduction (cloudflare.com) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<hr>
<h3 id="其他内容："><a href="#其他内容：" class="headerlink" title="其他内容："></a>其他内容：</h3><h4 id="DNS防火墙："><a href="#DNS防火墙：" class="headerlink" title="DNS防火墙："></a>DNS防火墙：</h4><p>DNS firewall 是一种可为 DNS 服务器提供众多安全和性能服务的工具。</p>
<p>DNS firewall 位于用户的递归解析器与他们正尝试访问的网站或服务的权威性域名服务器之间。</p>
<p>防火墙可提供速率限制服务，以关闭试图淹没服务器的攻击者。如果服务器确实由于攻击或其他任何原因而停机，则 DNS firewall 可通过提供来自高速缓存的 DNS 响应来使运营商的站点或服务保持正常运行。</p>
<h4 id="用户隐私："><a href="#用户隐私：" class="headerlink" title="用户隐私："></a>用户隐私：</h4><p>DNS 查询未加密。即使用户使用像 1.1.1.1 这样不跟踪他们活动的 DNS 解析器，DNS 查询也会以明文形式在互联网上传输。这意味着拦截查询的任何人都可以看到用户正在访问哪些网站。</p>
<p><em>还有诸如DNS高速缓存中毒等内容我们暂且略过。</em></p>
<hr>
<h2 id="DomainName-域名"><a href="#DomainName-域名" class="headerlink" title="DomainName - 域名"></a>DomainName - 域名</h2><h3 id="0-简介："><a href="#0-简介：" class="headerlink" title="0. 简介："></a>0. 简介：</h3><p>域名是一个文本字符串，映射到一个数字 IP 地址，可用于从客户端软件访问网站。</p>
<p>简单来说，域名是用户在浏览器窗口中键入以访问特定网站的文本。</p>
<p>网站的实际地址是一个复杂的数字 IP 地址（例如 103.21.244.0），但由于 DNS 的存在，用户可以输入人类友好的域名并将其路由到他们要查找的网站。此过程称为 DNS 查找。</p>
<p>域名全部由域名注册管理机构管理。</p>
<h3 id="1-与URL的区别？"><a href="#1-与URL的区别？" class="headerlink" title="1. 与URL的区别？"></a>1. 与URL的区别？</h3><p>统一资源定位符（URL）有时也称为网址，包含站点的域名以及其他信息，如传输协议和路径等。</p>
<p>例如，在 URL<code>https://www.bilibili.com/anime/</code>中，<code>www.bilibili.com</code>是域名，而<code>https</code>是协议，<code>/anime/</code>是指向网站上特定页面的路径。</p>
<h3 id="2-域名的组成部分？"><a href="#2-域名的组成部分？" class="headerlink" title="2. 域名的组成部分？"></a>2. 域名的组成部分？</h3><p>域名通常分为两个或三个部分，各个部分用一个点分隔。</p>
<p>从右到左阅读时，域名中的<strong>标识符从最广泛到最具体</strong>。</p>
<p>域名中最后一个点右边的部分是顶级域 (TLD)。</p>
<p>其中包括<code>.com、.net和.org </code>等通用TLD，以及<code>.uk</code>和<code>.cn</code>等特定国家&#x2F;地区的 TLD。</p>
<p>TLD 的左侧是第二级域（2LD），如果 2LD 的左侧有任何内容，则称为第三级域（3LD）。</p>
<h3 id="3-查找可用域名："><a href="#3-查找可用域名：" class="headerlink" title="3. 查找可用域名："></a>3. 查找可用域名：</h3><p>法一：转到域名注册商的网站。他们中的大多数都提供<code>whois</code>服务，告诉您域名是否可用。</p>
<p>法二：如果使用具有内置 shell 的系统，请在其中键入命令，如下所示：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">$ whois mozilla.org</span><br><span class="line">Domain Name:MOZILLA.ORG</span><br><span class="line">Domain ID: D1409563-LROR</span><br><span class="line">Creation Date: 1998-01-24T05:00:00Z</span><br><span class="line">Updated Date: 2013-12-08T01:16:57Z</span><br><span class="line">Registry Expiry Date: 2015-01-23T05:00:00Z</span><br><span class="line">Sponsoring Registrar:MarkMonitor Inc. (R37-LROR)</span><br><span class="line">Sponsoring Registrar IANA ID: 292</span><br><span class="line">WHOIS Server:</span><br><span class="line">Referral URL:</span><br><span class="line">Domain Status: clientDeleteProhibited</span><br><span class="line">Domain Status: clientTransferProhibited</span><br><span class="line">Domain Status: clientUpdateProhibited</span><br><span class="line">Registrant ID:mmr-33684</span><br><span class="line">Registrant Name:DNS Admin</span><br><span class="line">Registrant Organization:Mozilla Foundation</span><br><span class="line">Registrant Street: 650 Castro St Ste 300</span><br><span class="line">Registrant City:Mountain View</span><br><span class="line">Registrant State/Province:CA</span><br><span class="line">Registrant Postal Code:94041</span><br><span class="line">Registrant Country:US</span><br><span class="line">Registrant Phone:+1.6509030800</span><br></pre></td></tr></table></figure></div>



<h3 id="4-其他内容"><a href="#4-其他内容" class="headerlink" title="4. 其他内容"></a>4. 其他内容</h3><p>域名的最长保留期是十年。用户可以持有域名超过十年，因为注册商通常让他们无限期地续订域名。但是，用户从来没有真正拥有过这个域名，他们只是租用了它。</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://www.cloudflare-cn.com/img/learning/dns/glossary/expired-domains/expired-domain-timeline.svg"
                      alt="avatar"
                ></p>
<p>如果没有人购买过期的域名，它可能会在一定时间后退回到原来的注册机构。它将不再可用，直到注册表决定释放它。</p>
<hr>
<h2 id="P2P应用"><a href="#P2P应用" class="headerlink" title="P2P应用"></a>P2P应用</h2><p>暂略</p>
<hr>
<h2 id="TCP套接字编程"><a href="#TCP套接字编程" class="headerlink" title="TCP套接字编程"></a>TCP套接字编程</h2><p>暂略</p>
<hr>

        </div>

        
            <div class="post-copyright-info">
                <div class="article-copyright-info-container">
    <ul>
        <li><strong>标题:</strong> 计网 - Ep2 - 应用层「万字长文」丨学习记录</li>
        <li><strong>作者:</strong> Conqueror712</li>
        <li><strong>创建于
                :</strong> 2023-03-20 10:58:59</li>
        
            <li>
                <strong>更新于
                    :</strong> 2023-04-23 11:09:54
            </li>
        
        <li>
            <strong>链接:</strong> https://redefine.ohevan.com//post/Computer-Network-2.html
        </li>
        <li>
            <strong>
                版权声明:
            </strong>
            
            本文章采用 <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">CC BY-NC-SA 4.0</a> 进行许可。
            

        </li>
    </ul>
</div>

            </div>
        

        

        

        
            <div class="article-nav">
                
                    <div class="article-prev">
                        <a class="prev"
                        rel="prev"
                        href="/post/Neo4J.html"
                        >
                            <span class="left arrow-icon flex justify-center items-center">
                                <i class="fa-solid fa-chevron-left"></i>
                            </span>
                            <span class="title flex justify-center items-center">
                                <span class="post-nav-title-item">Neo4j - Ep1丨学习记录</span>
                                <span class="post-nav-item">上一篇</span>
                            </span>
                        </a>
                    </div>
                
                
                    <div class="article-next">
                        <a class="next"
                        rel="next"
                        href="/post/Retired.html"
                        >
                            <span class="title flex justify-center items-center">
                                <span class="post-nav-title-item">XCPC - Retired - Essay</span>
                                <span class="post-nav-item">下一篇</span>
                            </span>
                            <span class="right arrow-icon flex justify-center items-center">
                                <i class="fa-solid fa-chevron-right"></i>
                            </span>
                        </a>
                    </div>
                
            </div>
        


        
            <div class="comment-container">
                <div class="comments-container pjax">
    <div id="comment-anchor"></div>
    <div class="comment-area-title">
        <i class="fa-solid fa-comments"></i>&nbsp;评论
    </div>
    

        
            
 
    <div id="waline"></div>
    <script type="module"  data-swup-reload-script>
        import { init } from 'https://evan.beee.top/js/waline.mjs';

        function loadWaline() {
            init({
                el: '#waline',
                serverURL: 'https://example.example.com',
                lang: 'zh-CN',
                dark: 'body[class~="dark-mode"]',
                requiredMeta: ['nick','mail'], // cannot customize by theme config, change it yourself
            });
        }

        if ('true') {
            const loadWalineTimeout = setTimeout(() => {
                loadWaline();
                clearTimeout(loadWalineTimeout);
            }, 1000);
        } else {
            window.addEventListener('DOMContentLoaded', loadWaline);
        }
        
    </script>



        
    
</div>

            </div>
        
    </div>

    
        <div class="toc-content-container">
            <div class="post-toc-wrap">
    <div class="post-toc">
        <div class="toc-title">此页目录</div>
        <div class="page-title">计网 - Ep2 - 应用层「万字长文」丨学习记录</div>
        <ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Unit-2-%E5%BA%94%E7%94%A8%E5%B1%82"><span class="nav-text">Unit 2 应用层</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%8E%9F%E7%90%86"><span class="nav-text">应用层协议原理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BD%91%E7%BB%9C-x2F-%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84"><span class="nav-text">网络&#x2F;应用程序体系结构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%9B%E7%A8%8B%E9%80%9A%E4%BF%A1"><span class="nav-text">进程通信</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TCP-socket"><span class="nav-text">TCP socket</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#UDP-socket"><span class="nav-text">UDP socket</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE"><span class="nav-text">应用层协议</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Internet-%E4%BC%A0%E8%BE%93%E5%B1%82%E6%8F%90%E4%BE%9B%E7%9A%84%E6%9C%8D%E5%8A%A1"><span class="nav-text">Internet 传输层提供的服务</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Web-amp-HTTP"><span class="nav-text">Web &amp; HTTP</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Web%E6%A6%82%E8%BF%B0"><span class="nav-text">Web概述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HTTP%E6%A6%82%E8%BF%B0"><span class="nav-text">HTTP概述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%BA%E4%BA%8EHTTP%E7%9A%84%E7%B3%BB%E7%BB%9F%E7%BB%84%E4%BB%B6"><span class="nav-text">基于HTTP的系统组件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HTTP%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%96%B9%E9%9D%A2"><span class="nav-text">HTTP的基本方面</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HTTP%E5%8F%AF%E4%BB%A5%E6%8E%A7%E5%88%B6%E4%BB%80%E4%B9%88"><span class="nav-text">HTTP可以控制什么?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HTTP%E6%B5%81"><span class="nav-text">HTTP流</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HTTP%E6%B6%88%E6%81%AF%E4%B8%8E%E6%8A%A5%E6%96%87"><span class="nav-text">HTTP消息与报文</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HTTP-Cookies%EF%BC%9A"><span class="nav-text">HTTP - Cookies：</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#FTP%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93%E5%8D%8F%E8%AE%AE"><span class="nav-text">FTP文件传输协议</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8E%A7%E5%88%B6%E8%BF%9E%E6%8E%A5%E5%92%8C%E6%95%B0%E6%8D%AE%E8%BF%9E%E6%8E%A5%E4%BA%8B%E5%88%86%E5%BC%80%E7%9A%84%EF%BC%8C%E4%B8%A4%E4%B8%AA%E4%B8%8D%E5%90%8C%E7%9A%84%E7%AB%AF%E5%8F%A3"><span class="nav-text">控制连接和数据连接事分开的，两个不同的端口</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#FTP%E5%8D%8F%E8%AE%AE%E6%9C%89%E7%8A%B6%E6%80%81"><span class="nav-text">FTP协议有状态</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Email"><span class="nav-text">Email</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%82%AE%E4%BB%B6%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="nav-text">邮件服务器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SMTP"><span class="nav-text">SMTP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%82%AE%E4%BB%B6%E6%8A%A5%E6%96%87%E6%A0%BC%E5%BC%8F%E4%B8%8E%E5%A4%9A%E5%AA%92%E4%BD%93%E6%89%A9%E5%B1%95"><span class="nav-text">邮件报文格式与多媒体扩展</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%82%AE%E4%BB%B6%E8%AE%BF%E9%97%AE%E5%8D%8F%E8%AE%AE"><span class="nav-text">邮件访问协议</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%B3%E4%BA%8EPOP3%E5%8D%8F%E8%AE%AE%E7%9A%84%E6%9B%B4%E5%A4%9A%EF%BC%9A"><span class="nav-text">关于POP3协议的更多：</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DNS-%E4%BA%92%E8%81%94%E7%BD%91%E7%9A%84%E7%94%B5%E8%AF%9D%E7%B0%BF"><span class="nav-text">DNS - 互联网的电话簿</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%AE%80%E4%BB%8B%EF%BC%9A"><span class="nav-text">简介：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%A2%9D%E5%A4%96%E7%9A%84%E5%AE%89%E5%85%A8%E5%B1%82%EF%BC%9F"><span class="nav-text">额外的安全层？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DNS-x2F-HTTPS-over-DNS"><span class="nav-text">DNS &#x2F; HTTPS-over-DNS?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B6%89%E5%8F%8A-DNS-%E7%9A%84%E5%B8%B8%E8%A7%81%E6%94%BB%E5%87%BB%E6%9C%89%E5%93%AA%E4%BA%9B%EF%BC%9F"><span class="nav-text">涉及 DNS 的常见攻击有哪些？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%9F%E5%90%8D%E5%AE%89%E5%85%A8"><span class="nav-text">域名安全</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%B6%E4%BB%96%E5%86%85%E5%AE%B9%EF%BC%9A"><span class="nav-text">其他内容：</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DomainName-%E5%9F%9F%E5%90%8D"><span class="nav-text">DomainName - 域名</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#0-%E7%AE%80%E4%BB%8B%EF%BC%9A"><span class="nav-text">0. 简介：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E4%B8%8EURL%E7%9A%84%E5%8C%BA%E5%88%AB%EF%BC%9F"><span class="nav-text">1. 与URL的区别？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E5%9F%9F%E5%90%8D%E7%9A%84%E7%BB%84%E6%88%90%E9%83%A8%E5%88%86%EF%BC%9F"><span class="nav-text">2. 域名的组成部分？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E6%9F%A5%E6%89%BE%E5%8F%AF%E7%94%A8%E5%9F%9F%E5%90%8D%EF%BC%9A"><span class="nav-text">3. 查找可用域名：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E5%85%B6%E4%BB%96%E5%86%85%E5%AE%B9"><span class="nav-text">4. 其他内容</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#P2P%E5%BA%94%E7%94%A8"><span class="nav-text">P2P应用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#TCP%E5%A5%97%E6%8E%A5%E5%AD%97%E7%BC%96%E7%A8%8B"><span class="nav-text">TCP套接字编程</span></a></li></ol></li></ol>

    </div>
</div>
        </div>
    
</div>



                

            </div>

            

        </div>

        <div class="main-content-footer">
            <footer class="footer mt-5 py-5 h-auto text-base text-third-text-color relative border-t-2 border-t-border-color">
    <div class="info-container py-3 text-center">
        
        <div class="text-center">
            &copy;
            
              <span>2022</span>
              -
            
            2023&nbsp;&nbsp;<i class="fa-solid fa-heart fa-beat" style="--fa-animation-duration: 0.5s; color: #f54545"></i>&nbsp;&nbsp;<a href="/">Conqueror712</a>
        </div>
        
            <script data-swup-reload-script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
            <div class="relative text-center lg:absolute lg:right-[20px] lg:top-1/2 lg:-translate-y-1/2 lg:text-right">
                
                    <span id="busuanzi_container_site_uv" class="lg:!block">
                        <span class="text-sm">访问人数</span>
                        <span id="busuanzi_value_site_uv"></span>
                    </span>
                
                
                    <span id="busuanzi_container_site_pv" class="lg:!block">
                        <span class="text-sm">总访问量</span>
                        <span id="busuanzi_value_site_pv"></span>
                    </span>
                
            </div>
        
        <div class="relative text-center lg:absolute lg:left-[20px] lg:top-1/2 lg:-translate-y-1/2 lg:text-left">
            <span class="lg:block text-sm">由 <?xml version="1.0" encoding="utf-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg class="relative top-[2px] inline-block align-baseline" version="1.1" id="圖層_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="1rem" height="1rem" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve"><path fill="#0E83CD" d="M256.4,25.8l-200,115.5L56,371.5l199.6,114.7l200-115.5l0.4-230.2L256.4,25.8z M349,354.6l-18.4,10.7l-18.6-11V275H200v79.6l-18.4,10.7l-18.6-11v-197l18.5-10.6l18.5,10.8V237h112v-79.6l18.5-10.6l18.5,10.8V354.6z"/></svg><a target="_blank" class="text-base" href="https://hexo.io">Hexo</a> 驱动</span>
            <span class="text-sm lg:block">主题&nbsp;<a class="text-base" target="_blank" href="https://github.com/EvanNotFound/hexo-theme-redefine">Redefine v2.4.4</a></span>
        </div>
        
        
            <div>
                博客已运行 <span class="odometer" id="runtime_days" ></span> 天 <span class="odometer" id="runtime_hours"></span> 小时 <span class="odometer" id="runtime_minutes"></span> 分钟 <span class="odometer" id="runtime_seconds"></span> 秒
            </div>
        
        
            <script data-swup-reload-script>
                try {
                    function odometer_init() {
                    const elements = document.querySelectorAll('.odometer');
                    elements.forEach(el => {
                        new Odometer({
                            el,
                            format: '( ddd).dd',
                            duration: 200
                        });
                    });
                    }
                    odometer_init();
                } catch (error) {}
            </script>
        
        
        
    </div>  
</footer>
        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="article-tools-list">
        <!-- TOC aside toggle -->
        
            <li class="right-bottom-tools page-aside-toggle">
                <i class="fa-regular fa-outdent"></i>
            </li>
        

        <!-- go comment -->
        
            <li class="go-comment">
                <i class="fa-regular fa-comments"></i>
            </li>
        
    </ul>
</div>

        </div>
    

    <div class="right-side-tools-container">
        <div class="side-tools-container">
    <ul class="hidden-tools-list">
        <li class="right-bottom-tools tool-font-adjust-plus flex justify-center items-center">
            <i class="fa-regular fa-magnifying-glass-plus"></i>
        </li>

        <li class="right-bottom-tools tool-font-adjust-minus flex justify-center items-center">
            <i class="fa-regular fa-magnifying-glass-minus"></i>
        </li>

        <li class="right-bottom-tools tool-expand-width flex justify-center items-center">
            <i class="fa-regular fa-expand"></i>
        </li>

        <li class="right-bottom-tools tool-dark-light-toggle flex justify-center items-center">
            <i class="fa-regular fa-moon"></i>
        </li>

        <!-- rss -->
        

        

        <li class="right-bottom-tools tool-scroll-to-bottom flex justify-center items-center">
            <i class="fa-regular fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="visible-tools-list">
        <li class="right-bottom-tools toggle-tools-list flex justify-center items-center">
            <i class="fa-regular fa-cog fa-spin"></i>
        </li>
        
            <li class="right-bottom-tools tool-scroll-to-top flex justify-center items-center">
                <i class="arrow-up fas fa-arrow-up"></i>
                <span class="percent"></span>
            </li>
        
        
    </ul>
</div>

    </div>

    <div class="image-viewer-container">
    <img src="">
</div>


    

</main>


    
<script src="/js/libs/Swup.min.js"></script>

<script src="/js/libs/SwupSlideTheme.min.js"></script>

<script src="/js/libs/SwupScriptsPlugin.min.js"></script>

<script src="/js/libs/SwupProgressPlugin.min.js"></script>

<script src="/js/libs/SwupScrollPlugin.min.js"></script>

<script>
    const swup = new Swup({
        plugins: [
            new SwupScriptsPlugin({
                optin: true,
            }),
            new SwupProgressPlugin(),
            new SwupScrollPlugin({
                offset: 80,
            }),
            new SwupSlideTheme({
                mainElement: ".main-content-body",
            }),
        ],
        containers: ["#swup"],
    });

    swup.hooks.on("page:view", () => {
        Global.refresh();
    });

    // if (document.readyState === "complete") {
    //
    // } else {
    //     document.addEventListener("DOMContentLoaded", () => init());
    // }
</script>






<script src="/js/utils.js" type="module"></script>

<script src="/js/main.js" type="module"></script>

<script src="/js/layouts/navbarShrink.js" type="module"></script>

<script src="/js/tools/scrollTopBottom.js" type="module"></script>

<script src="/js/tools/lightDarkSwitch.js" type="module"></script>

<script src="/js/layouts/categoryList.js" type="module"></script>





    
<script src="/js/tools/codeBlock.js"></script>




    
<script src="/js/layouts/lazyload.js"></script>




    
<script src="/js/tools/runtime.js"></script>

    
<script src="/js/libs/odometer.min.js"></script>

    
<link rel="stylesheet" href="/assets/odometer-theme-minimal.css">




  
<script src="/js/libs/Typed.min.js"></script>

  
<script src="/js/plugins/typed.js"></script>







<div class="post-scripts" data-swup-reload-script>
    
        
<script src="/js/libs/anime.min.js"></script>

        
<script src="/js/tools/tocToggle.js" type="module"></script>

<script src="/js/layouts/toc.js" type="module"></script>

<script src="/js/plugins/tabs.js" type="module"></script>

    
</div>


</body>
</html>
